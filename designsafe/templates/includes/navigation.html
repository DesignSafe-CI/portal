{% load menu_tags cms_tags sekizai_tags %}
<nav class="navbar navbar-default navbar-inverse navbar-ds">
  <div class="container-fluid">
    <div class="navbar-header">
      <ul class="nav navbar-nav hidden-xs">
        <li>
          <button class="navbar-toggle hidden-sm hidden-md hidden-lg" data-toggle="dropdown" aria-expanded="true" style="display:inherit">
            <span class="sr-only">Section navigation</span>
            <span class="icon-bar" role="presentation"></span>
            <span class="icon-bar" role="presentation"></span>
            <span class="icon-bar" role="presentation"></span>
          </button>
          <ul class="dropdown-menu">
            {% include 'includes/global_nav.html' %}
          </ul>
        </li>
      </ul>
      <!-- {% if section_root %}
        <a class="navbar-brand">{{section_root.title}}</a>
      {% endif %} -->
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-navigation" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar" role="presentation"></span>
        <span class="icon-bar" role="presentation"></span>
        <span class="icon-bar" role="presentation"></span>
      </button>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="main-navigation">
      <ul class="nav navbar-nav">
         {% show_menu 1 2 100 100 "includes/cms_menu.html" %}
      </ul>
      <form class="navbar-form navbar-right" role="search">
        <button class="btn btn-default" id="search_button"> <i class="fa fa-search" role="none"></i><span class="sr-only">Search</span></button>
        <input class="form-control" id="searchfield" placeholder="Search DesignSafe" aria-label="Search DesignSafe" style="margin-right:1rem">

        <input type="radio" name="search-radio" id="search-radio-website" value="website" checked="checked" style="display:table-cell; vertical-align: middle; margin-top:0px;margin-right:0.25rem;">
        <label for="search-radio-website" style="color:white; margin-bottom:0px; margin-right:1rem; vertical-align: middle;">Website</label>
        <input type="radio" name="search-radio" id="search-radio-datasets" value="datasets" style="display:table-cell; vertical-align: middle; margin-top:0px; margin-right:0.25rem;">
        <label for="search-radio-datasets" style="color:white; margin-bottom:0px; vertical-align: middle;">Datasets</label>

        <div id="nav-ai-root" style="display: inline-block; margin-left: 1rem;"></div>
      </form>
    </div>
  </div>
</nav>

{% addtoblock "react_assets" %}
  {% if debug %}
    <script type="module">
        import RefreshRuntime from 'http://localhost:4200/static/react-assets/@react-refresh';
        RefreshRuntime.injectIntoGlobalHook(window);
        window.$RefreshReg$ = () => {};
        window.$RefreshSig$ = () => (type) => type;
        window.__vite_plugin_react_preamble_installed__ = true;
    </script>
    <script type="module" src="http://localhost:4200/static/react-assets/@vite/client"></script>
    <script type="module" src="http://localhost:4200/static/react-assets/src/main.tsx"></script>
  {% else %}
    {% include "react-assets.html" %}
  {% endif %}
{% endaddtoblock %}
