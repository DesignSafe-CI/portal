<div class="modal-header" id="modal-header" style="background: #e6e6e6;">
    <h4 class="modal-title" style="border:none;">
        <span>Add Categories</span>
        <span class="pull-right" ng-click="$ctrl.cancel()">
            <i class="fa fa-times"></i>
        </span>
    </h4>
</div>
<div class="modal-body" ng-show="$ctrl.ui.loading">
    <h3 class="text-center">
        <i class="fa fa-spinner fa-spin"></i> Loading...
    </h3>
</div>
<div class="modal-body" ng-hide="$ctrl.ui.loading">
    <div class="well">
        <!-- Create Category Form -->
        <form name='addForm' ng-hide="$ctrl.ui.showEditCategory">
            <!-- Category Type -->
            <div class="form-group">
                <label>
                    <span class="pull-left" style="margin-right: 5px">Category Type</span>
                    <span class="label label-danger">Required</span>
                </label>
                <!-- Experimental Categories -->
                <div ng-if="$ctrl.ui.experimental">
                    <div>
                        <span class="category-model-conf">Model Configuration</span> Files describing the design and layout
                        of what is being tested (some call this a specimen).
                    </div>
                    <div>
                        <span class="category-sensor-info">Sensor Information</span> Files about the sensor instrumentation
                        used in a model configuration to conduct one or more event.
                    </div>
                    <div>
                        <span class="category-event">Event</span> Files from unique occurrences during which data are
                        generated.
                    </div>
                    <div>
                        <span class="category-analysis">Analysis</span> Tables, graphs, visualizations, Jupyter Notebooks,
                        or other representations of the results.
                    </div>
                    <div>
                        <span class="category-report">Report</span> Written accounts made to convey information about an
                        entire project or experiment.
                    </div>
                </div>
                <!-- Simulation Categories -->
                <div ng-if="$ctrl.ui.simulation">
                    <div>
                        <span class="category-model-conf">Simulation Model</span> Files and/or information describing the design, geometry, and/or code of a simulation.
                    </div>
                    <div>
                        <span class="category-sensor-info">Simulation Input</span> Files containing the parameters of the simulation.
                    </div>
                    <div>
                        <span class="category-event">Simulation Output</span> Files containing the results of a simulation.
                    </div>
                    <div>
                        <span class="category-analysis">Analysis</span> Tables, graphs, visualizations, Jupyter Notebooks,
                        or other representations of the results.
                    </div>
                    <div>
                        <span class="category-report">Report</span> Written accounts made to convey information about an
                        entire project or simulation.
                    </div>
                </div>
                <!-- Hybrid Simulation Categories -->
                <div ng-if="$ctrl.ui.hybridSim">
                    <div>
                        <span class="category-model-conf">Global Model</span>
                        Files describing the entire structure, loading protocol, and components of the hybrid simulation.
                    </div>
                    <br>
                    <div>
                        <span class="category-sensor-info">Master Simulation Coordinator</span>
                        Software files that communicate with the simulation and experimental substructure simultaneously to give commands and receive feedback data.
                    </div>
                    <div>
                        <span class="category-event">Coordinator Output</span>
                        Data generated by the master simulation coordinator.
                    </div>
                    <br>
                    <div>
                        <span class="category-sim-subst">Simulation Substructure</span>
                        Files and/or information describing the planning and design of the numerical model.
                    </div>
                    <div>
                        <span class="category-event">Simulation Output</span>
                        Data generated by the simulation substructure.
                    </div>
                    <br>
                    <div>
                        <span class="category-exp-subst">Experimental Substructure</span>
                        Files describing the design and layout of the physical model.
                    </div>
                    <div>
                        <span class="category-event">Experimental Output</span>
                        Data generated by the experimental substructure.
                    </div>
                    <br>    
                    <div>
                        <span class="category-analysis">Analysis</span> Tables, graphs, visualizations, Jupyter Notebooks,
                        or other representations of the results.
                    </div>
                    <div>
                        <span class="category-report">Report</span> Written accounts made to convey information about an
                        entire project or hybrid simulation.
                    </div>
                </div>
                <div>
                    <div>
                        <select style="background:white; width:20%"
                                ng-model="$ctrl.form.projectTagToAdd.name"
                                ng-options="tag.name as tag.label for tag in $ctrl.ui.tagTypes"
                                ng-change="$ctrl.tagType($ctrl.form.projectTagToAdd.name)"
                                ng-required="true">
                        </select>
                    </div>
                </div>
            </div>
            <!-- Category Title -->
            <div class="form-group">
                <label>
                    <span class="pull-left" style="margin-right: 5px">Category Title</span>
                    <span class="label label-danger">Required</span>
                </label>
                <div>
                    Make it unique from other categories. Use sequential ordering if necessary. Do not repeat the category type in the title.
                </div>
                <input type="text" style="width:100%;" ng-model="$ctrl.form.projectTagToAdd.title"
                    ng-required="true">
            </div>
            <!-- Referenced Data for Analysis -->
            <div    class="form-group"
                    style="width:100%; display:inline-block;"
                    ng-if="$ctrl.ui.isAnalysis">
                <table class="tg" style="table-layout: fixed; width: 100%;">
                    <colgroup>
                        <col style="width: 48%">
                        <col style="width: 50%">
                    </colgroup>
                    <tr>
                        <td class="tg-0lax">
                            <strong>Referenced Data Title</strong>
                            <div>Data from published projects or an external repository.</div>
                        </td>
                        <td class="tg-0lax" valign="top">
                            <strong>Referenced Data DOI or URL</strong><br>
                        </td>
                    </tr>
                    <tr ng-repeat="(i, work) in $ctrl.form.projectTagToAdd.refs track by $index">
                        <td class="tg-0lax">
                            <input type="text" style="width:94%;" ng-model="$ctrl.form.projectTagToAdd.refs[i].reference">
                        </td>
                        <td class="tg-0lax">
                            <input type="text" style="width:100%;" ng-model="$ctrl.form.projectTagToAdd.refs[i].referencedoi">
                        </td>
                    </tr>
                </table>
                <div>
                    <button class="btn-project-add-rm"
                            ng-click="$ctrl.addEntity($ctrl.form.projectTagToAdd.refs)">
                            &#x2b; Add another Referenced Data
                    </button>
                    |
                    <button class="btn-project-add-rm"
                            ng-click="$ctrl.dropEntity($ctrl.form.projectTagToAdd.refs)"
                            ng-disabled="$ctrl.checkEmpty($ctrl.form.projectTagToAdd.refs)">
                            &#x2212; Remove Referenced Data
                    </button>
                </div>
            </div>
            <!-- Category Description -->
            <div class="form-group">
                <label>Category Description</label>
                <div>
                    Summarize the purpose of the category and its files. What is it about? What are its features?
                </div>
                <div>
                    <textarea type="text" style="width:100%; height:3em; resize: vertical;" id="add-exp-desc" ng-model="$ctrl.form.projectTagToAdd.description">
            </textarea>
                </div>
            </div>
            <!-- Add Category Btn -->
            <div class="text-right">
                <button class="btn btn-add" type="submit" ng-click="addForm.$valid && $ctrl.addCategory($event)"
                    style="width:18%;"><i class="fa fa-plus"></i> Add Category</button>
            </div>
        </form>
        <!-- Edit Category Form -->
        <form name='editForm' ng-show="$ctrl.ui.showEditCategory">
            <!-- Edit Category Type -->
            <div class="form-group">
                <label>
                    <span class="pull-left" style="margin-right: 5px">Category Type</span>
                    <span class="label label-danger">Required</span>
                </label>
                <!-- Experimental Categories -->
                <div ng-if="$ctrl.ui.experimental">
                    <div>
                        <span class="category-model-conf">Model Configuration</span> Files describing the design and layout
                        of what is being tested (some call this a specimen).
                    </div>
                    <div>
                        <span class="category-sensor-info">Sensor Information</span> Files about the sensor instrumentation
                        used in a model configuration to conduct one or more event.
                    </div>
                    <div>
                        <span class="category-event">Event</span> Files from unique occurrences during which data are
                        generated.
                    </div>
                    <div>
                        <span class="category-analysis">Analysis</span> Tables, graphs, visualizations, Jupyter Notebooks,
                        or other representations of the results.
                    </div>
                    <div>
                        <span class="category-report">Report</span> Written accounts made to convey information about an
                        entire project or experiment.
                    </div>
                </div>
                <!-- Simulation Categories -->
                <div ng-if="$ctrl.ui.simulation">
                    <div>
                        <span class="category-model-conf">Simulation Model</span> Files and/or information describing the design, geometry, and/or code of a simulation.
                    </div>
                    <div>
                        <span class="category-sensor-info">Simulation Input</span> Files containing the parameters of the simulation.
                    </div>
                    <div>
                        <span class="category-event">Simulation Output</span> Files containing the results of a simulation.
                    </div>
                    <div>
                        <span class="category-analysis">Analysis</span> Tables, graphs, visualizations, Jupyter Notebooks,
                        or other representations of the results.
                    </div>
                    <div>
                        <span class="category-report">Report</span> Written accounts made to convey information about an
                        entire project or simulation.
                    </div>
                </div>
                <!-- Hybrid Simulation Categories -->
                <div ng-if="$ctrl.ui.hybridSim">
                    <div>
                        <span class="category-model-conf">Global Model</span>
                        Files describing the entire structure, loading protocol, and components of the hybrid simulation.
                    </div>
                    <br>
                    <div>
                        <span class="category-sensor-info">Master Simulation Coordinator</span>
                        Software files that communicate with the simulation and experimental substructure simultaneously to give commands and receive feedback data.
                    </div>
                    <div>
                        <span class="category-event">Coordinator Output</span>
                        Data generated by the master simulation coordinator.
                    </div>
                    <br>
                    <div>
                        <span class="category-sim-subst">Simulation Substructure</span>
                        Files and/or information describing the planning and design of the numerical model.
                    </div>
                    <div>
                        <span class="category-event">Simulation Output</span>
                        Data generated by the simulation substructure.
                    </div>
                    <br>
                    <div>
                        <span class="category-exp-subst">Experimental Substructure</span>
                        Files describing the design and layout of the physical model.
                    </div>
                    <div>
                        <span class="category-event">Experimental Output</span>
                        Data generated by the experimental substructure.
                    </div>
                    <br>    
                    <div>
                        <span class="category-analysis">Analysis</span> Tables, graphs, visualizations, Jupyter Notebooks,
                        or other representations of the results.
                    </div>
                    <div>
                        <span class="category-report">Report</span> Written accounts made to convey information about an
                        entire project or hybrid simulation.
                    </div>
                </div>
                <div>
                    <div>
                        <select style="background:white; width:20%"
                                ng-model="$ctrl.editForm.type"
                                ng-change="$ctrl.tagType($ctrl.form.projectTagToAdd.name)"
                                ng-disabled
                                ng-required="true">
                                <option option="$ctrl.editForm.type" class="category-model-conf">{{ $ctrl.editForm.type }}</option>
                        </select>
                    </div>
                </div>
            </div>
            <!-- Edit Category Title -->
            <div class="form-group">
                <label>
                    <span class="pull-left" style="margin-right: 5px">Category Title</span>
                    <span class="label label-danger">Required</span>
                </label>
                <div>
                    Make it unique from other categories. Use sequential ordering if necessary. Do not repeat the category type in the title.
                </div>
                <input  type="text"
                        style="width:100%;"
                        placeholder="$ctrl.editForm.title"
                        ng-model="$ctrl.editForm.title"
                        ng-required="true">
            </div>
            <!-- Edit Referenced Data for Analysis -->
            <div class="form-group" style="width:100%; display:inline-block;" ng-if="$ctrl.ui.isAnalysis">
                <table class="tg" style="table-layout: fixed; width: 100%;">
                    <colgroup>
                        <col style="width: 48%">
                        <col style="width: 50%">
                    </colgroup>
                    <tr>
                        <td class="tg-0lax">
                            <strong>Referenced Data Title</strong>
                            <div>Data from published projects or an external repository.</div>
                        </td>
                        <td class="tg-0lax" valign="top">
                            <strong>Referenced Data DOI or URL</strong><br>
                        </td>
                    </tr>
                    <tr ng-repeat="(i, work) in $ctrl.editForm.refs track by $index">
                        <td class="tg-0lax">
                            <input type="text" style="width:94%;" ng-model="$ctrl.editForm.refs[i].reference">
                        </td>
                        <td class="tg-0lax">
                            <input type="text" style="width:100%;" ng-model="$ctrl.editForm.refs[i].referencedoi">
                        </td>
                    </tr>
                </table>
                <div>
                    <button class="btn-project-add-rm"
                            ng-click="$ctrl.addEntity($ctrl.editForm.refs)">
                            &#x2b; Add another Referenced Data
                    </button>
                    |
                    <button class="btn-project-add-rm"
                            ng-click="$ctrl.dropEntity($ctrl.editForm.refs)"
                            ng-disabled="$ctrl.checkEmpty($ctrl.editForm.refs)">
                            &#x2212; Remove Referenced Data
                    </button>
                </div>
            </div>
            <!-- Edit Category Description -->
            <div class="form-group">
                <label>Category Description</label>
                <div>
                    Summarize the purpose of the category and its files. What is it about? What are its features?
                </div>
                <div>
                    <textarea   type="text"
                                style="width:100%; height:3em; resize: vertical;"
                                placeholder="{{ $ctrl.editForm.description }}"
                                ng-model="$ctrl.editForm.description">
            </textarea>
                </div>
            </div>
            <!-- Edit Category Btn -->
            <div class="text-right">
                <button class="btn btn-add" type="submit" ng-click="editForm.$valid && $ctrl.updateCategory($event)"
                    style="width:18%;">Update</button>
            </div>
        </form>
    </div>
    <!-- CATEGORY LIST -->
    <div>
        <div>
            <label>Category Inventory</label>
        </div>
        <div class="dropdown">
            <!-- Model Config -->
            <div ng-repeat="modelConf in $ctrl.browser.project.modelconfig_set | orderBy: ['value.title']">
                <div class="dropdown dropdown-spacer-sm">
                    <button class="btn collapsed tab-model-conf" data-toggle="collapse" data-target="#files-{{modelConf.uuid}}"
                        style="width:100%;">
                        <table style="width:100%">
                            <tr>
                                <td style="text-align: left;">
                                    <span>Model Configuration | <strong>{{modelConf.value.title}}</strong></span>
                                </td>
                                <td style="text-align: right;">
                                    <span class="curation-chevron" style="font-size: 18px;"></span>
                                </td>
                            </tr>
                        </table>
                    </button>
                    <div id="files-{{modelConf.uuid}}" class="collapse">
                        <div class="well">
                            <div>{{ modelConf.value.description }}</div>
                            <div><br>
                                <span ng-click="$ctrl.editCategory(modelConf)"><a>Edit</a></span> | 
                                <span ng-click="$ctrl.deleteCategory(modelConf)"><a>Delete </a></span>
                            </div>
                        </div>
                            <files-listing browser="$ctrl.browser" files-list="$ctrl.browser.listings[modelConf.uuid]" params="$ctrl.fl"></files-listing>
                    </div>
                </div>
            </div>
            <!-- Sensor Info -->
            <div ng-repeat="sensorInfo in $ctrl.browser.project.sensorlist_set | orderBy: ['value.title']">
                <div class="dropdown dropdown-spacer-sm">
                    <button class="btn collapsed tab-sensor-info" data-toggle="collapse" data-target="#files-{{sensorInfo.uuid}}"
                        style="width:100%;">
                        <table style="width:100%">
                            <tr>
                                <td style="text-align: left;">
                                    <span>Sensor Information | <strong>{{sensorInfo.value.title}}</strong></span>
                                </td>
                                <td style="text-align: right;">
                                    <span class="curation-chevron" style="font-size: 18px;"></span>
                                </td>
                            </tr>
                        </table>
                    </button>
                    <div id="files-{{sensorInfo.uuid}}" class="collapse">
                        <div class="well">
                            <div>{{ sensorInfo.value.description }}</div>
                            <div><br>
                                <span ng-click="$ctrl.editCategory(sensorInfo)"><a>Edit</a></span> | 
                                <span ng-click="$ctrl.deleteCategory(sensorInfo)"><a>Delete </a></span>
                            </div>
                        </div>
                        <files-listing browser="$ctrl.browser" files-list="$ctrl.browser.listings[sensorInfo.uuid]" params="$ctrl.fl"></files-listing>
                    </div>
                </div>
            </div>
            <!-- Events -->
            <div ng-repeat="event in $ctrl.browser.project.event_set | orderBy: ['value.title']">
                <div class="dropdown dropdown-spacer-sm">
                    <button class="btn collapsed tab-event" data-toggle="collapse" data-target="#files-{{event.uuid}}"
                        style="width:100%;">
                        <table style="width:100%">
                            <tr>
                                <td style="text-align: left;">
                                    <span>Event | <strong>{{event.value.title}}</strong></span>
                                </td>
                                <td style="text-align: right;">
                                    <span class="curation-chevron" style="font-size: 18px;"></span>
                                </td>
                            </tr>
                        </table>
                    </button>
                    <div id="files-{{event.uuid}}" class="collapse">
                        <div class="well">
                            <div>{{ event.value.description }}</div>
                            <div><br>
                                <span ng-click="$ctrl.editCategory(event)"><a>Edit</a></span> | 
                                <span ng-click="$ctrl.deleteCategory(event)"><a>Delete </a></span>
                            </div>
                        </div>
                        <files-listing browser="$ctrl.browser" files-list="$ctrl.browser.listings[event.uuid]" params="$ctrl.fl"></files-listing>
                    </div>
                </div>
            </div>
            <!-- Simulation Model -->
            <div ng-repeat="model in $ctrl.browser.project.model_set | orderBy: ['value.title']">
                <div class="dropdown dropdown-spacer-sm">
                    <button class="btn collapsed tab-model-conf" data-toggle="collapse" data-target="#files-{{model.uuid}}"
                        style="width:100%;">
                        <table style="width:100%">
                            <tr>
                                <td style="text-align: left;">
                                    <span>Simulation Model | <strong>{{model.value.title}}</strong></span>
                                </td>
                                <td style="text-align: right;">
                                    <span class="curation-chevron" style="font-size: 18px;"></span>
                                </td>
                            </tr>
                        </table>
                    </button>
                    <div id="files-{{model.uuid}}" class="collapse">
                        <div class="well">
                            <div>{{ model.value.description }}</div>
                            <div><br>
                                <span ng-click="$ctrl.editCategory(model)"><a>Edit</a></span> | 
                                <span ng-click="$ctrl.deleteCategory(model)"><a>Delete </a></span>
                            </div>
                        </div>
                        <files-listing browser="$ctrl.browser" files-list="$ctrl.browser.listings[model.uuid]" params="$ctrl.fl"></files-listing>
                    </div>
                </div>
            </div>
            <!-- Simulation Input -->
            <div ng-repeat="input in $ctrl.browser.project.input_set | orderBy: ['value.title']">
                <div class="dropdown dropdown-spacer-sm">
                    <button class="btn collapsed tab-sensor-info" data-toggle="collapse" data-target="#files-{{input.uuid}}"
                        style="width:100%;">
                        <table style="width:100%">
                            <tr>
                                <td style="text-align: left;">
                                    <span>Simulation Input | <strong>{{input.value.title}}</strong></span>
                                </td>
                                <td style="text-align: right;">
                                    <span class="curation-chevron" style="font-size: 18px;"></span>
                                </td>
                            </tr>
                        </table>
                    </button>
                    <div id="files-{{input.uuid}}" class="collapse">
                        <div class="well">
                            <div>{{ input.value.description }}</div>
                            <div><br>
                                <span ng-click="$ctrl.editCategory(input)"><a>Edit</a></span> | 
                                <span ng-click="$ctrl.deleteCategory(input)"><a>Delete </a></span>
                            </div>
                        </div>
                        <files-listing browser="$ctrl.browser" files-list="$ctrl.browser.listings[input.uuid]" params="$ctrl.fl"></files-listing>
                    </div>
                </div>
            </div>
            <!-- Simulation Output -->
            <div ng-repeat="output in $ctrl.browser.project.output_set | orderBy: ['value.title']">
                <div class="dropdown dropdown-spacer-sm">
                    <button class="btn collapsed tab-event" data-toggle="collapse" data-target="#files-{{output.uuid}}"
                        style="width:100%;">
                        <table style="width:100%">
                            <tr>
                                <td style="text-align: left;">
                                    <span>Simulation Output | <strong>{{output.value.title}}</strong></span>
                                </td>
                                <td style="text-align: right;">
                                    <span class="curation-chevron" style="font-size: 18px;"></span>
                                </td>
                            </tr>
                        </table>
                    </button>
                    <div id="files-{{output.uuid}}" class="collapse">
                        <div class="well">
                            <div>{{ output.value.description }}</div>
                            <div><br>
                                <span ng-click="$ctrl.editCategory(output)"><a>Edit</a></span> | 
                                <span ng-click="$ctrl.deleteCategory(output)"><a>Delete </a></span>
                            </div>
                        </div>
                        <files-listing browser="$ctrl.browser" files-list="$ctrl.browser.listings[output.uuid]" params="$ctrl.fl"></files-listing>
                    </div>
                </div>
            </div>
            <!-- Global Model -->
            <div ng-repeat="gm in $ctrl.browser.project.globalmodel_set | orderBy: ['value.title']">
                <div class="dropdown dropdown-spacer-sm">
                    <button class="btn collapsed tab-model-conf" data-toggle="collapse" data-target="#files-{{gm.uuid}}"
                        style="width:100%;">
                        <table style="width:100%">
                            <tr>
                                <td style="text-align: left;">
                                    <span>Global Model | <strong>{{gm.value.title}}</strong></span>
                                </td>
                                <td style="text-align: right;">
                                    <span class="curation-chevron" style="font-size: 18px;"></span>
                                </td>
                            </tr>
                        </table>
                    </button>
                    <div id="files-{{gm.uuid}}" class="collapse">
                        <div class="well">
                            <div>{{ gm.value.description }}</div>
                            <div><br>
                                <span ng-click="$ctrl.editCategory(gm)"><a>Edit</a></span> | 
                                <span ng-click="$ctrl.deleteCategory(gm)"><a>Delete </a></span>
                            </div>
                        </div>
                        <files-listing browser="$ctrl.browser" files-list="$ctrl.browser.listings[gm.uuid]" params="$ctrl.fl"></files-listing>
                    </div>
                </div>
            </div>
            <!-- Coordinator -->
            <div ng-repeat="coordinator in $ctrl.browser.project.coordinator_set | orderBy: ['value.title']">
                <div class="dropdown dropdown-spacer-sm">
                    <button class="btn collapsed tab-sensor-info" data-toggle="collapse" data-target="#files-{{coordinator.uuid}}"
                        style="width:100%;">
                        <table style="width:100%">
                            <tr>
                                <td style="text-align: left;">
                                    <span>Coordinator | <strong>{{coordinator.value.title}}</strong></span>
                                </td>
                                <td style="text-align: right;">
                                    <span class="curation-chevron" style="font-size: 18px;"></span>
                                </td>
                            </tr>
                        </table>
                    </button>
                    <div id="files-{{coordinator.uuid}}" class="collapse">
                        <div class="well">
                            <div>{{ coordinator.value.description }}</div>
                            <div><br>
                                <span ng-click="$ctrl.editCategory(coordinator)"><a>Edit</a></span> | 
                                <span ng-click="$ctrl.deleteCategory(coordinator)"><a>Delete </a></span>
                            </div>
                        </div>
                        <files-listing browser="$ctrl.browser" files-list="$ctrl.browser.listings[coordinator.uuid]" params="$ctrl.fl"></files-listing>
                    </div>
                </div>
            </div>
            <!-- Simulation Substructure -->
            <div ng-repeat="simsub in $ctrl.browser.project.simsubstructure_set | orderBy: ['value.title']">
                <div class="dropdown dropdown-spacer-sm">
                    <button class="btn collapsed tab-sim-subst" data-toggle="collapse" data-target="#files-{{simsub.uuid}}"
                        style="width:100%;">
                        <table style="width:100%">
                            <tr>
                                <td style="text-align: left;">
                                    <span>Simulation Substructure | <strong>{{simsub.value.title}}</strong></span>
                                </td>
                                <td style="text-align: right;">
                                    <span class="curation-chevron" style="font-size: 18px;"></span>
                                </td>
                            </tr>
                        </table>
                    </button>
                    <div id="files-{{simsub.uuid}}" class="collapse">
                        <div class="well">
                            <div>{{ simsub.value.description }}</div>
                            <div><br>
                                <span ng-click="$ctrl.editCategory(simsub)"><a>Edit</a></span> | 
                                <span ng-click="$ctrl.deleteCategory(simsub)"><a>Delete </a></span>
                            </div>
                        </div>
                        <files-listing browser="$ctrl.browser" files-list="$ctrl.browser.listings[simsub.uuid]" params="$ctrl.fl"></files-listing>
                    </div>
                </div>
            </div>
            <!-- Experimental Substructure -->
            <div ng-repeat="expsub in $ctrl.browser.project.expsubstructure_set | orderBy: ['value.title']">
                <div class="dropdown dropdown-spacer-sm">
                    <button class="btn collapsed tab-exp-subst" data-toggle="collapse" data-target="#files-{{expsub.uuid}}"
                        style="width:100%;">
                        <table style="width:100%">
                            <tr>
                                <td style="text-align: left;">
                                    <span>Experimental Substructure | <strong>{{expsub.value.title}}</strong></span>
                                </td>
                                <td style="text-align: right;">
                                    <span class="curation-chevron" style="font-size: 18px;"></span>
                                </td>
                            </tr>
                        </table>
                    </button>
                    <div id="files-{{expsub.uuid}}" class="collapse">
                        <div class="well">
                            <div>{{ expsub.value.description }}</div>
                            <div><br>
                                <span ng-click="$ctrl.editCategory(expsub)"><a>Edit</a></span> | 
                                <span ng-click="$ctrl.deleteCategory(expsub)"><a>Delete </a></span>
                            </div>
                        </div>
                        <files-listing browser="$ctrl.browser" files-list="$ctrl.browser.listings[expsub.uuid]" params="$ctrl.fl"></files-listing>
                    </div>
                </div>
            </div>
            <!-- Coordinator Output -->
            <div ng-repeat="cout in $ctrl.browser.project.coordinatoroutput_set | orderBy: ['value.title']">
                <div class="dropdown dropdown-spacer-sm">
                    <button class="btn collapsed tab-event" data-toggle="collapse" data-target="#files-{{cout.uuid}}"
                        style="width:100%;">
                        <table style="width:100%">
                            <tr>
                                <td style="text-align: left;">
                                    <span>Coordinator Output | <strong>{{cout.value.title}}</strong></span>
                                </td>
                                <td style="text-align: right;">
                                    <span class="curation-chevron" style="font-size: 18px;"></span>
                                </td>
                            </tr>
                        </table>
                    </button>
                    <div id="files-{{cout.uuid}}" class="collapse">
                        <div class="well">
                            <div>{{ cout.value.description }}</div>
                            <div><br>
                                <span ng-click="$ctrl.editCategory(cout)"><a>Edit</a></span> | 
                                <span ng-click="$ctrl.deleteCategory(cout)"><a>Delete </a></span>
                            </div>
                        </div>
                        <files-listing browser="$ctrl.browser" files-list="$ctrl.browser.listings[cout.uuid]" params="$ctrl.fl"></files-listing>
                    </div>
                </div>
            </div>
            <!-- Experiment Output -->
            <div ng-repeat="eout in $ctrl.browser.project.expoutput_set | orderBy: ['value.title']">
                <div class="dropdown dropdown-spacer-sm">
                    <button class="btn collapsed tab-event" data-toggle="collapse" data-target="#files-{{eout.uuid}}"
                        style="width:100%;">
                        <table style="width:100%">
                            <tr>
                                <td style="text-align: left;">
                                    <span>Experiment Output | <strong>{{eout.value.title}}</strong></span>
                                </td>
                                <td style="text-align: right;">
                                    <span class="curation-chevron" style="font-size: 18px;"></span>
                                </td>
                            </tr>
                        </table>
                    </button>
                    <div id="files-{{eout.uuid}}" class="collapse">
                        <div class="well">
                            <div>{{ eout.value.description }}</div>
                            <div><br>
                                <span ng-click="$ctrl.editCategory(eout)"><a>Edit</a></span> | 
                                <span ng-click="$ctrl.deleteCategory(eout)"><a>Delete </a></span>
                            </div>
                        </div>
                        <files-listing browser="$ctrl.browser" files-list="$ctrl.browser.listings[eout.uuid]" params="$ctrl.fl"></files-listing>
                    </div>
                </div>
            </div>
            <!-- Simulation Output -->
            <div ng-repeat="sout in $ctrl.browser.project.simoutput_set | orderBy: ['value.title']">
                <div class="dropdown dropdown-spacer-sm">
                    <button class="btn collapsed tab-event" data-toggle="collapse" data-target="#files-{{sout.uuid}}"
                        style="width:100%;">
                        <table style="width:100%">
                            <tr>
                                <td style="text-align: left;">
                                    <span>Simulation Output | <strong>{{sout.value.title}}</strong></span>
                                </td>
                                <td style="text-align: right;">
                                    <span class="curation-chevron" style="font-size: 18px;"></span>
                                </td>
                            </tr>
                        </table>
                    </button>
                    <div id="files-{{sout.uuid}}" class="collapse">
                        <div class="well">
                            <div>{{ sout.value.description }}</div>
                            <div><br>
                                <span ng-click="$ctrl.editCategory(sout)"><a>Edit</a></span> | 
                                <span ng-click="$ctrl.deleteCategory(sout)"><a>Delete </a></span>
                            </div>
                        </div>
                        <files-listing browser="$ctrl.browser" files-list="$ctrl.browser.listings[sout.uuid]" params="$ctrl.fl"></files-listing>
                    </div>
                </div>
            </div>
            <!-- Analysis -->
            <div ng-repeat="analysis in $ctrl.browser.project.analysis_set | orderBy: ['value.title']">
                <div class="dropdown dropdown-spacer-sm">
                    <button class="btn collapsed tab-analysis" data-toggle="collapse" data-target="#files-{{analysis.uuid}}"
                        style="width:100%;">
                        <table style="width:100%">
                            <tr>
                                <td style="text-align: left;">
                                    <span>Analysis | <strong>{{analysis.value.title}}</strong></span>
                                </td>
                                <td style="text-align: right;">
                                    <span class="curation-chevron" style="font-size: 18px;"></span>
                                </td>
                            </tr>
                        </table>
                    </button>
                    <div id="files-{{analysis.uuid}}" class="collapse">
                        <div class="well">
                            <table class="tg" style="table-layout: fixed; width: 100%;">
                                <colgroup>
                                    <col style="width: 15%">
                                    <col style="width: 84%">
                                </colgroup>
                                <tr ng-repeat="ref in analysis.value.refs">
                                    <td class="tg-0lax" ng-if="$first">Referenced Work</td>
                                    <td class="tg-0lax" ng-if="!$first"></td>
                                    <td class="tg-0lax"><strong><a href="{{ ref.referencedoi }}" rel="noopener noreferrer" target=”_blank”>{{ ref.reference }}</a></strong></td>
                                </tr>
                            </table>
                            <div>{{ analysis.value.description }}</div>
                            <div><br>
                                <span ng-click="$ctrl.editCategory(analysis)"><a>Edit</a></span> | 
                                <span ng-click="$ctrl.deleteCategory(analysis)"><a>Delete </a></span>
                            </div>
                        </div>
                        <files-listing browser="$ctrl.browser" files-list="$ctrl.browser.listings[analysis.uuid]" params="$ctrl.fl"></files-listing>
                    </div>
                </div>
            </div>
            <!-- Reports -->
            <div ng-repeat="report in $ctrl.browser.project.report_set | orderBy: ['value.title']">
                <div class="dropdown dropdown-spacer-sm">
                    <button class="btn collapsed tab-report" data-toggle="collapse" data-target="#files-{{report.uuid}}"
                        style="width:100%;">
                        <table style="width:100%">
                            <tr>
                                <td style="text-align: left;">
                                    <span>Report | <strong>{{report.value.title}}</strong></span>
                                </td>
                                <td style="text-align: right;">
                                    <span class="curation-chevron" style="font-size: 18px;"></span>
                                </td>
                            </tr>
                        </table>
                    </button>
                    <div id="files-{{report.uuid}}" class="collapse">
                        <div class="well">
                            <div>{{ report.value.description }}</div>
                            <div><br>
                                <span ng-click="$ctrl.editCategory(report)"><a>Edit</a></span> | 
                                <span ng-click="$ctrl.deleteCategory(report)"><a>Delete </a></span>
                            </div>
                        </div>
                        <files-listing browser="$ctrl.browser" files-list="$ctrl.browser.listings[report.uuid]" params="$ctrl.fl"></files-listing>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
