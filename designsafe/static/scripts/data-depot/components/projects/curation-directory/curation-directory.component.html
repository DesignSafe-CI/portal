<div style="background:white;">
    <!-- Project Header Start -->
    <div ng-if="!$ctrl.loading">
        <!--Project Metadata-->
        <prj-metadata></prj-metadata>
    </div>
    <!-- Project Header End -->
    <table class="tg" style="table-layout: fixed; width: 100%;" ng-if="!$ctrl.loading">
        <colgroup>
            <col style="width: 46%">
            <col style="width: 50%">
        </colgroup>
        <tr>
            <td class="tg-0lax">
                <button class="btn btn-project-l grayed-out"
                        ng-click="$ctrl.goWork()"
                        ng-disabled="$ctrl.loading"
                >
                    Working Directory
                </button>
                <button class="btn btn-project-m"
                        ng-click="$ctrl.goCuration()"
                        ng-disabled="$ctrl.loading"
                >
                    Curation Directory
                </button>
                <button class="btn btn-project-r grayed-out"
                        ng-click="$ctrl.goPreview()"
                        ng-disabled="$ctrl.loading"
                >
                    Publication Preview
                </button>
            </td>
            <td class="curation-tools" ng-if="!$ctrl.loading">
                <div ng-hide="$ctrl.project.value.projectType === 'other'">
                    <span style="padding:10px; font-weight:bold;">1
                        <a  ng-click="$ctrl.manageExperiments()"
                            ng-if="$ctrl.project.value.projectType === 'experimental'"
                            href="#">
                            Add Experiments
                        </a>
                        <a  ng-click="$ctrl.manageSimulations()"
                            ng-if="$ctrl.project.value.projectType === 'simulation'"
                            href="#">
                            Add Simulations
                        </a>
                        <a  ng-click="$ctrl.manageHybridSimulations()"
                            ng-if="$ctrl.project.value.projectType === 'hybrid_simulation'"
                            href="#">
                            Add Hybrid Simulations
                        </a>
                        <a data-ng-click="$ctrl.manageFieldReconMissions()"
                           data-ng-if="$ctrl.project.value.projectType === 'field_recon'"
                           href="#">
                            Add Missions
                        </a>
                    </span>
                    <span style="padding:5px; font-weight:bold;">|</span>
                    <span style="padding:10px; font-weight:bold;">2
                        <a ng-click="$ctrl.manageCategories()"
                           ng-if="$ctrl.project.value.projectType !== 'field_recon'"
                           href="#">
                            Add Categories
                        </a>
                        <a data-ng-click="$ctrl.manageFieldReconCollections()"
                           data-ng-if="$ctrl.project.value.projectType === 'field_recon'"
                           href="#">
                            Add Collections
                        </a>
                    </span>
                    <span style="padding:5px; font-weight:bold;">|</span>
                    <span style="padding:10px; font-weight:bold;">3
                        <a ng-click="$ctrl.relateData()"
                            href="#">
                            Relate Data
                        </a>
                    </span>
                </div>
            </td>
            <td class="tg-0lax" ng-if="$ctrl.loading" style="opacity: 0.5;">
                <div ng-hide="$ctrl.project.value.projectType === 'other'">
                    <span style="padding:10px; font-weight:bold;">1
                        <strong ng-if="$ctrl.project.value.projectType === 'experimental'">
                            Add Experiments
                        </strong>
                        <strong ng-if="$ctrl.project.value.projectType === 'simulation'">
                            Add Simulations
                        </strong>
                        <strong ng-if="$ctrl.project.value.projectType === 'hybrid_simulation'">
                            Add Hybrid Simulations
                        </strong>
                        <strong ng-if="$ctrl.project.value.projectType === 'field_recon'">
                            Add Missions
                        </strong>
                    </span>
                    <span style="padding:5px; font-weight:bold;">|</span>
                    <span style="padding:10px; font-weight:bold;">2
                        <strong ng-if="$ctrl.project.value.projectType !== 'field_recon'"> Add Categories</strong>
                        <strong ng-if="$ctrl.project.value.projectType === 'field_recon'"> Add Collections</strong>
                    </span>
                    <span style="padding:5px; font-weight:bold;">|</span>
                    <span style="padding:10px; font-weight:bold;">3
                        <strong> Relate Data</strong>
                    </span>
                </div>
            </td>
        </tr>
    </table>
    <br>
    <div ng-if="$ctrl.loading">
        <h3 class="text-center">
            <i class="fa fa-spinner fa-spin"></i> Loading...
        </h3>
    </div>
    <div ng-if="!$ctrl.loading">
        <breadcrumb
        path="$ctrl.FileListingService.listings.main.params.path"
        system="$ctrl.FileListingService.listings.main.params.path"
        on-browse="$ctrl.onBrowse(file)"
        custom-root="{label: $ctrl.project.value.projectId, path: ''}"
    ></breadcrumb>
        <div ng-if="!$ctrl.loading">
            <files-listing
            on-scroll="$ctrl.scrollToBottom()"
            listing="$ctrl.FileListingService.listings.main"
            on-browse="$ctrl.onBrowse(file)"
            show-select="true"
            show-tags="false"
            edit-tags="true"
            >&nbsp;</files-listing
        >
    </div>
</div>
